\hypertarget{jobs_8c}{}\doxysection{ReferÃªncia ao ficheiro C\+:/\+LUIS-\/\+PEREIRA/\+Repositorios/fjssp/fjssp/jobs.c}
\label{jobs_8c}\index{C:/LUIS-\/PEREIRA/Repositorios/fjssp/fjssp/jobs.c@{C:/LUIS-\/PEREIRA/Repositorios/fjssp/fjssp/jobs.c}}


Ficheiro com todas as funções relativas aos trabalhos.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include \char`\"{}header.\+h\char`\"{}}\newline
\doxysubsection*{FunÃ§Ãµes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_job}{Job}} $\ast$ \mbox{\hyperlink{jobs_8c_a84de6ff490cb65dbc4995f2d8b98de1f}{new\+Job}} (int id)
\begin{DoxyCompactList}\small\item\em Criar novo trabalho. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_job}{Job}} $\ast$ \mbox{\hyperlink{jobs_8c_a1903b78e4151d6cc8c9ba08f2343cfcc}{insert\+Job\+At\+Start}} (\mbox{\hyperlink{struct_job}{Job}} $\ast$head, \mbox{\hyperlink{struct_job}{Job}} $\ast$new)
\begin{DoxyCompactList}\small\item\em Inserir novo trabalho no início da lista de trabalhos. \end{DoxyCompactList}\item 
\mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{jobs_8c_a74854c567a784660b6259abbd47d821e}{write\+Jobs}} (char file\+Name\mbox{[}$\,$\mbox{]}, \mbox{\hyperlink{struct_job}{Job}} $\ast$head)
\begin{DoxyCompactList}\small\item\em Armazenar lista de trabalhos em ficheiro binário. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_job}{Job}} $\ast$ \mbox{\hyperlink{jobs_8c_a1c30247bf14e8f64a9dad8cf280f7f2a}{read\+Jobs}} (char file\+Name\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Ler lista de trabalhos de ficheiro binário. \end{DoxyCompactList}\item 
\mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{jobs_8c_a542b381bfbc143ae575e98f684117265}{free\+Jobs}} (\mbox{\hyperlink{struct_job}{Job}} $\ast$head)
\begin{DoxyCompactList}\small\item\em Libertar a lista de trabalhos da memória. \end{DoxyCompactList}\item 
\mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{jobs_8c_a91295985e34799e3cea579e2fe66d0a8}{display\+Jobs}} (\mbox{\hyperlink{struct_job}{Job}} $\ast$head)
\begin{DoxyCompactList}\small\item\em Mostrar a lista de trabalhos na consola. \end{DoxyCompactList}\item 
\mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{jobs_8c_acb39186105e381d629e2db05d66ddbaa}{search\+Job}} (\mbox{\hyperlink{struct_job}{Job}} $\ast$head, int id)
\begin{DoxyCompactList}\small\item\em Procurar por um trabalho na lista de trabalhos. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{DescriÃ§Ã£o detalhada}
Ficheiro com todas as funções relativas aos trabalhos. 

\begin{DoxyAuthor}{Autor}
Luís Pereira @email \href{mailto:a18446@alunos.ipca.pt}{\texttt{ a18446@alunos.\+ipca.\+pt}} 
\end{DoxyAuthor}
\begin{DoxyDate}{Data}
25/03/2022 
\end{DoxyDate}


\doxysubsection{DocumentaÃ§Ã£o das funÃ§Ãµes}
\mbox{\Hypertarget{jobs_8c_a91295985e34799e3cea579e2fe66d0a8}\label{jobs_8c_a91295985e34799e3cea579e2fe66d0a8}} 
\index{jobs.c@{jobs.c}!displayJobs@{displayJobs}}
\index{displayJobs@{displayJobs}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{displayJobs()}{displayJobs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} display\+Jobs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_job}{Job}} $\ast$}]{head }\end{DoxyParamCaption})}



Mostrar a lista de trabalhos na consola. 


\begin{DoxyParams}{ParÃ¢metros}
{\em head} & Lista de trabalhos \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Booleano para o resultado da função (se funcionou ou não) 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{159 \{}
\DoxyCodeLine{160     \textcolor{keywordflow}{if} (head == NULL) \textcolor{comment}{// se lista está vazia}}
\DoxyCodeLine{161     \{}
\DoxyCodeLine{162         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{163     \}}
\DoxyCodeLine{164 }
\DoxyCodeLine{165     \mbox{\hyperlink{struct_job}{Job}}* current = head;}
\DoxyCodeLine{166 }
\DoxyCodeLine{167     \textcolor{keywordflow}{while} (current != NULL)}
\DoxyCodeLine{168     \{}
\DoxyCodeLine{169         printf(\textcolor{stringliteral}{"{}ID: \%d;\(\backslash\)n"{}}, current-\/>\mbox{\hyperlink{struct_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}});}
\DoxyCodeLine{170         current = current-\/>\mbox{\hyperlink{struct_job_a23043319aa98624f196cafc0ba57a0b1}{next}};}
\DoxyCodeLine{171     \}}
\DoxyCodeLine{172 }
\DoxyCodeLine{173     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{174 \}}

\end{DoxyCode}
\mbox{\Hypertarget{jobs_8c_a542b381bfbc143ae575e98f684117265}\label{jobs_8c_a542b381bfbc143ae575e98f684117265}} 
\index{jobs.c@{jobs.c}!freeJobs@{freeJobs}}
\index{freeJobs@{freeJobs}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{freeJobs()}{freeJobs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} free\+Jobs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_job}{Job}} $\ast$}]{head }\end{DoxyParamCaption})}



Libertar a lista de trabalhos da memória. 


\begin{DoxyParams}{ParÃ¢metros}
{\em head} & Lista de trabalhos \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Booleano para o resultado da função (se funcionou ou não) 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{134 \{}
\DoxyCodeLine{135     \textcolor{keywordflow}{if} (head == NULL) \textcolor{comment}{// se lista está vazia}}
\DoxyCodeLine{136     \{}
\DoxyCodeLine{137         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{138     \}}
\DoxyCodeLine{139 }
\DoxyCodeLine{140     \mbox{\hyperlink{struct_job}{Job}}* current = NULL;}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \textcolor{keywordflow}{while} (head != NULL)}
\DoxyCodeLine{143     \{}
\DoxyCodeLine{144         current = head;}
\DoxyCodeLine{145         head = head-\/>\mbox{\hyperlink{struct_job_a23043319aa98624f196cafc0ba57a0b1}{next}};}
\DoxyCodeLine{146         free(current);}
\DoxyCodeLine{147     \}}
\DoxyCodeLine{148 }
\DoxyCodeLine{149     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{150 \}}

\end{DoxyCode}
\mbox{\Hypertarget{jobs_8c_a1903b78e4151d6cc8c9ba08f2343cfcc}\label{jobs_8c_a1903b78e4151d6cc8c9ba08f2343cfcc}} 
\index{jobs.c@{jobs.c}!insertJobAtStart@{insertJobAtStart}}
\index{insertJobAtStart@{insertJobAtStart}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{insertJobAtStart()}{insertJobAtStart()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_job}{Job}} $\ast$ insert\+Job\+At\+Start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_job}{Job}} $\ast$}]{head,  }\item[{\mbox{\hyperlink{struct_job}{Job}} $\ast$}]{new }\end{DoxyParamCaption})}



Inserir novo trabalho no início da lista de trabalhos. 


\begin{DoxyParams}{ParÃ¢metros}
{\em head} & Lista de trabalhos \\
\hline
{\em new} & Novo trabalho \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Lista de trabalhos atualizada 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{41 \{}
\DoxyCodeLine{42     \textcolor{keywordflow}{if} (\mbox{\hyperlink{jobs_8c_acb39186105e381d629e2db05d66ddbaa}{searchJob}}(head, new-\/>\mbox{\hyperlink{struct_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}})) \textcolor{comment}{// não permitir inserir um novo com o mesmo ID}}
\DoxyCodeLine{43     \{}
\DoxyCodeLine{44         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{keywordflow}{if} (head == NULL) \textcolor{comment}{// se a lista estiver vazia}}
\DoxyCodeLine{48     \{}
\DoxyCodeLine{49         head = \textcolor{keyword}{new};}
\DoxyCodeLine{50     \}}
\DoxyCodeLine{51     \textcolor{keywordflow}{else} \textcolor{comment}{// se existir algum elemento na lista}}
\DoxyCodeLine{52     \{}
\DoxyCodeLine{53         \textcolor{keyword}{new}-\/>\mbox{\hyperlink{struct_job_a23043319aa98624f196cafc0ba57a0b1}{next}} = head;}
\DoxyCodeLine{54         head = \textcolor{keyword}{new};}
\DoxyCodeLine{55     \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{keywordflow}{return} head;}
\DoxyCodeLine{58 \}}

\end{DoxyCode}
\mbox{\Hypertarget{jobs_8c_a84de6ff490cb65dbc4995f2d8b98de1f}\label{jobs_8c_a84de6ff490cb65dbc4995f2d8b98de1f}} 
\index{jobs.c@{jobs.c}!newJob@{newJob}}
\index{newJob@{newJob}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{newJob()}{newJob()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_job}{Job}} $\ast$ new\+Job (\begin{DoxyParamCaption}\item[{int}]{id }\end{DoxyParamCaption})}



Criar novo trabalho. 

Sobre trabalhos.


\begin{DoxyParams}{ParÃ¢metros}
{\em id} & Identificador do trabalho \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Novo trabalho 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21     \mbox{\hyperlink{struct_job}{Job}}* \textcolor{keyword}{new} = (\mbox{\hyperlink{struct_job}{Job}}*)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_job}{Job}}));}
\DoxyCodeLine{22     \textcolor{keywordflow}{if} (\textcolor{keyword}{new} == NULL) \textcolor{comment}{// se não houver memória para alocar}}
\DoxyCodeLine{23     \{}
\DoxyCodeLine{24         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{25     \}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{keyword}{new}-\/>\mbox{\hyperlink{struct_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}} = id;}
\DoxyCodeLine{28     \textcolor{keyword}{new}-\/>next = NULL;}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{keywordflow}{return} \textcolor{keyword}{new};}
\DoxyCodeLine{31 \}}

\end{DoxyCode}
\mbox{\Hypertarget{jobs_8c_a1c30247bf14e8f64a9dad8cf280f7f2a}\label{jobs_8c_a1c30247bf14e8f64a9dad8cf280f7f2a}} 
\index{jobs.c@{jobs.c}!readJobs@{readJobs}}
\index{readJobs@{readJobs}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{readJobs()}{readJobs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_job}{Job}} $\ast$ read\+Jobs (\begin{DoxyParamCaption}\item[{char}]{file\+Name\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Ler lista de trabalhos de ficheiro binário. 


\begin{DoxyParams}{ParÃ¢metros}
{\em file\+Name} & Nome do ficheiro para ler a lista \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Lista de trabalhos 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{104 \{}
\DoxyCodeLine{105     FILE* file;}
\DoxyCodeLine{106 }
\DoxyCodeLine{107     \textcolor{keywordflow}{if} ((file = fopen(fileName, \textcolor{stringliteral}{"{}rb"{}})) == NULL) \textcolor{comment}{// se não foi possível abrir o ficheiro}}
\DoxyCodeLine{108     \{}
\DoxyCodeLine{109         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{110     \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112     \mbox{\hyperlink{struct_job}{Job}}* head = NULL;}
\DoxyCodeLine{113     \mbox{\hyperlink{struct_job}{Job}}* current = NULL;}
\DoxyCodeLine{114     \mbox{\hyperlink{struct_file_job}{FileJob}} currentInFile; \textcolor{comment}{// é a mesma estrutura mas sem o campo *next, uma vez que esse campo não é armazenado no ficheiro}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116     \textcolor{keywordflow}{while} (fread(\&currentInFile, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_file_job}{FileJob}}), 1, file)) \textcolor{comment}{// lê todos os registos do ficheiro e guarda na lista}}
\DoxyCodeLine{117     \{}
\DoxyCodeLine{118         current = \mbox{\hyperlink{jobs_8c_a84de6ff490cb65dbc4995f2d8b98de1f}{newJob}}(currentInFile.\mbox{\hyperlink{struct_file_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}});}
\DoxyCodeLine{119         head = \mbox{\hyperlink{jobs_8c_a1903b78e4151d6cc8c9ba08f2343cfcc}{insertJobAtStart}}(head, current);}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122     fclose(file);}
\DoxyCodeLine{123 }
\DoxyCodeLine{124     \textcolor{keywordflow}{return} head;}
\DoxyCodeLine{125 \}}

\end{DoxyCode}
\mbox{\Hypertarget{jobs_8c_acb39186105e381d629e2db05d66ddbaa}\label{jobs_8c_acb39186105e381d629e2db05d66ddbaa}} 
\index{jobs.c@{jobs.c}!searchJob@{searchJob}}
\index{searchJob@{searchJob}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{searchJob()}{searchJob()}}
{\footnotesize\ttfamily \mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} search\+Job (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_job}{Job}} $\ast$}]{head,  }\item[{int}]{id }\end{DoxyParamCaption})}



Procurar por um trabalho na lista de trabalhos. 


\begin{DoxyParams}{ParÃ¢metros}
{\em head} & Lista de trabalhos \\
\hline
{\em id} & Identificador do trabalho \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Booleano para o resultado da função (se funcionou ou não) 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{184 \{}
\DoxyCodeLine{185     \textcolor{keywordflow}{if} (head == NULL) \textcolor{comment}{// se lista está vazia}}
\DoxyCodeLine{186     \{}
\DoxyCodeLine{187         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{188     \}}
\DoxyCodeLine{189 }
\DoxyCodeLine{190     \mbox{\hyperlink{struct_job}{Job}}* current = head;}
\DoxyCodeLine{191 }
\DoxyCodeLine{192     \textcolor{keywordflow}{while} (current != NULL)}
\DoxyCodeLine{193     \{}
\DoxyCodeLine{194         \textcolor{keywordflow}{if} (current-\/>\mbox{\hyperlink{struct_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}} == \textcolor{keywordtype}{id})}
\DoxyCodeLine{195         \{}
\DoxyCodeLine{196             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{197         \}}
\DoxyCodeLine{198         current = current-\/>\mbox{\hyperlink{struct_job_a23043319aa98624f196cafc0ba57a0b1}{next}};}
\DoxyCodeLine{199     \}}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{202 \}}

\end{DoxyCode}
\mbox{\Hypertarget{jobs_8c_a74854c567a784660b6259abbd47d821e}\label{jobs_8c_a74854c567a784660b6259abbd47d821e}} 
\index{jobs.c@{jobs.c}!writeJobs@{writeJobs}}
\index{writeJobs@{writeJobs}!jobs.c@{jobs.c}}
\doxysubsubsection{\texorpdfstring{writeJobs()}{writeJobs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{header_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} write\+Jobs (\begin{DoxyParamCaption}\item[{char}]{file\+Name\mbox{[}$\,$\mbox{]},  }\item[{\mbox{\hyperlink{struct_job}{Job}} $\ast$}]{head }\end{DoxyParamCaption})}



Armazenar lista de trabalhos em ficheiro binário. 


\begin{DoxyParams}{ParÃ¢metros}
{\em file\+Name} & Nome do ficheiro para armazenar a lista \\
\hline
{\em head} & Lista de trabalhos \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Booleano para o resultado da função (se funcionou ou não) 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{68 \{}
\DoxyCodeLine{69     \textcolor{keywordflow}{if} (head == NULL) \textcolor{comment}{// se lista está vazia}}
\DoxyCodeLine{70     \{}
\DoxyCodeLine{71         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{72     \}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     FILE* file = NULL;}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \textcolor{keywordflow}{if} ((file = fopen(fileName, \textcolor{stringliteral}{"{}wb"{}})) == NULL) \textcolor{comment}{// se não foi possível abrir o ficheiro}}
\DoxyCodeLine{77     \{}
\DoxyCodeLine{78         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{79     \}}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \mbox{\hyperlink{struct_job}{Job}}* current = head;}
\DoxyCodeLine{82     \mbox{\hyperlink{struct_file_job}{FileJob}} currentInFile; \textcolor{comment}{// é a mesma estrutura mas sem o campo *next, uma vez que esse campo não é armazenado no ficheiro}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \textcolor{keywordflow}{while} (current != NULL)}
\DoxyCodeLine{85     \{}
\DoxyCodeLine{86         currentInFile.\mbox{\hyperlink{struct_file_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}} = current-\/>\mbox{\hyperlink{struct_job_a7441ef0865bcb3db9b8064dd7375c1ea}{id}};}
\DoxyCodeLine{87         fwrite(\&currentInFile, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_file_job}{FileJob}}), 1, file); \textcolor{comment}{// guarda cada registo da lista no ficheiro}}
\DoxyCodeLine{88 }
\DoxyCodeLine{89         current = current-\/>\mbox{\hyperlink{struct_job_a23043319aa98624f196cafc0ba57a0b1}{next}};}
\DoxyCodeLine{90     \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     fclose(file);}
\DoxyCodeLine{93 }
\DoxyCodeLine{94     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{95 \}}

\end{DoxyCode}
